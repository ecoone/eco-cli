eco.define("unveil",["zepto","zSelector"],function(a){return function(a){a.fn.unveil=function(b,c){function j(){var b=h.filter(function(){var c,f,g,h,b=a(this);if(!b.is(":hidden"))return c=d.scrollTop(),f=c+d.height(),g=b.offset().top,h=g+b.height(),h>=c-e&&f+e>=g});i=b.trigger("unveil"),h=h.not(i)}var i,d=a(window),e=b||0,f=window.devicePixelRatio>1,g=f?"data-src-retina":"data-src",h=this;return this.one("unveil",function(){var b,a=this.getAttribute(g);a=a||this.getAttribute("data-src"),b=this.getAttribute("src"),b!=a&&a&&(this.setAttribute("src",a),"function"==typeof c&&c.call(this))}),d.on("scroll.unveil resize.unveil lookup.unveil",j),j(),this}}(a),a});
eco.define("zSelector",["zepto"],function(a){return function(a){function e(b){return b=a(b),!(!b.width()&&!b.height())&&"none"!==b.css("display")}function j(a,b){var c,d,e,h;return a=a.replace(/=#\]/g,'="#"]'),e=g.exec(a),e&&e[2]in f&&(c=f[e[2]],d=e[3],a=e[1],d&&(h=Number(d),d=isNaN(h)?d.replace(/^["']|["']$/g,""):h)),b(a,c,d)}var b=a.zepto,c=b.qsa,d=b.matches,f=a.expr[":"]={visible:function(){return e(this)?this:void 0},hidden:function(){return e(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(a){return 0===a?this:void 0},last:function(a,b){return a===b.length-1?this:void 0},eq:function(a,b,c){return a===c?this:void 0},contains:function(b,c,d){return a(this).text().indexOf(d)>-1?this:void 0},has:function(a,c,d){return b.qsa(this,d).length?this:void 0}},g=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),h=/^\s*>/,i="Zepto"+ +new Date;b.qsa=function(d,e){return j(e,function(f,g,j){var k,l;try{!f&&g?f="*":h.test(f)&&(k=a(d).addClass(i),f="."+i+" "+f),l=c(d,f)}catch(m){throw console.error("error performing selector: %o",e),m}finally{k&&k.removeClass(i)}return g?b.uniq(a.map(l,function(a,b){return g.call(a,b,l,j)})):l})},b.matches=function(a,b){return j(b,function(b,c,e){return!(b&&!d(a,b)||c&&c.call(a,null,e)!==a)})}}(a),a});